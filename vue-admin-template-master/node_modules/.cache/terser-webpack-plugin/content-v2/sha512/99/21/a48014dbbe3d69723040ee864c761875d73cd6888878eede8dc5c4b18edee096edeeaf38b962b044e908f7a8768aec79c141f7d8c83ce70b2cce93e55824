{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-a4142c18\"],{d383:function(e,t,a){\"use strict\";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"el-form\",{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{model:e.ruleForm,\"label-width\":\"100px\"}},[a(\"el-row\",{staticClass:\"demo-form-inline\",staticStyle:{\"margin-top\":\"30px\",\"margin-left\":\"30px\"},attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"法规\",prop:\"regulationsId\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择法规\"},model:{value:e.ruleForm.regulationsId,callback:function(t){e.$set(e.ruleForm,\"regulationsId\",t)},expression:\"ruleForm.regulationsId\"}},e._l(e.regulationsList,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.regulationsName,value:e.regulationsId}})})),1)],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"条款号\",prop:\"clauseNo\"}},[a(\"el-input\",{model:{value:e.ruleForm.clauseNo,callback:function(t){e.$set(e.ruleForm,\"clauseNo\",e._n(t))},expression:\"ruleForm.clauseNo\"}})],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"关键词\",prop:\"clauseAntistop\"}},[a(\"el-input\",{model:{value:e.ruleForm.clauseAntistop,callback:function(t){e.$set(e.ruleForm,\"clauseAntistop\",t)},expression:\"ruleForm.clauseAntistop\"}})],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.submitForm(\"ruleForm\")}}},[e._v(\"搜索\")]),e._v(\" \"),a(\"el-button\",{on:{click:function(t){return e.resetForm(\"ruleForm\")}}},[e._v(\"重置\")])],1)],1)],1),e._v(\" \"),a(\"el-row\",{staticClass:\"demo-form-inline\",staticStyle:{\"margin-top\":\"30px\",\"margin-left\":\"30px\"},attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.btn}},[e._v(\"新增条款\")])],1)],1)],1)],1),e._v(\" \"),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{stripe:\"\",\"default-sort\":{prop:\"date\",order:\"descending\"},data:e.tableData.filter((function(t){return!e.search||t.clauseTitle.toLowerCase().includes(e.search.toLowerCase())}))}},[a(\"el-table-column\",{attrs:{prop:\"clauseNo\",label:\"条款号\",sortable:\"\",width:\"300\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row.clauseNo))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"clauseNoAlias\",label:\"条款号别名\",width:\"300\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row.clauseNoAlias))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"clauseTitle\",label:\"条款标题\",sortable:\"\",width:\"300\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row.clauseTitle))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"regulationsName\",label:\"所属法规名称\",sortable:\"\",width:\"300\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row.regulationsName))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"clauseVersion\",label:\"版本号\",sortable:\"\",width:\"300\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row.clauseVersion))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{align:\"right\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(\"编辑\")]),e._v(\" \"),a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(\"删除\")])]}}])})],1),e._v(\" \"),a(\"el-pagination\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{align:\"center\",\"current-page\":e.currentPage,\"page-sizes\":[5,10,20,30],\"page-size\":e.pageSize,layout:\"total, sizes, prev, pager, next, jumper\",total:e.total},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1)},r=[],s={name:\"RegulationsList\",data:function(){return{tableData:[],search:\"\",currentPage:1,pageSize:10,total:0,loading:!0,regulationsList:[],ruleForm:{clauseNo:\"\",clauseAntistop:\"\",regulationsId:\"\"}}},mounted:function(){this.getRegulations(),this.getData()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log(\"error submit!!\"),!1;t.getData()}))},resetForm:function(e){this.$refs[e].resetFields()},btn:function(){this.$router.push({path:\"/example/addClause\"})},handleEdit:function(e,t){this.$router.push({path:\"/example/updateClause\",query:{clauseId:t.clauseId}})},handleDelete:function(e,t){var a=this;this.$http.get(this.$url+\"clause/delClause\",{params:{clauseId:t.clauseId}}).then((function(e){\"2001\"==e.data.code?(a.$message({message:\"删除成功\",type:\"success\"}),a.getData()):a.$message.error(\"删除失败\")}))},handleSizeChange:function(e){this.pageSize=e,this.getData()},handleCurrentChange:function(e){this.currentPage=e,this.getData()},getRegulations:function(){var e=this;this.$http.post(this.$url+\"regulations/showAll\").then((function(t){\"2001\"==t.data.code?e.regulationsList=t.data.data:e.regulationsList=[]}))},getData:function(){var e=this,t=new URLSearchParams;t.append(\"page\",this.currentPage),t.append(\"limit\",this.pageSize),t.append(\"regulationsId\",this.ruleForm.regulationsId),t.append(\"clauseAntistop\",this.ruleForm.clauseAntistop),t.append(\"clauseNo\",this.ruleForm.clauseNo),\"number\"==typeof this.ruleForm.clauseNo||\"\"==this.ruleForm.clauseNo?this.$http.post(this.$url+\"clause/showClause\",t).then((function(t){\"2001\"==t.data.code?(e.loading=!1,e.tableData=t.data.data,e.total=t.data.count,e.pageSize=t.data.limit,e.currentPage=t.data.page):(e.total=t.data.count,e.loading=!1,e.tableData=[])})):this.$message.error(\"请输入正确条款号\")}}},n=s,o=(a(\"f84b\"),a(\"2877\")),i=Object(o[\"a\"])(n,l,r,!1,null,null,null);t[\"default\"]=i.exports},e8bd:function(e,t,a){},f84b:function(e,t,a){\"use strict\";var l=a(\"e8bd\"),r=a.n(l);r.a}}]);","extractedComments":[]}