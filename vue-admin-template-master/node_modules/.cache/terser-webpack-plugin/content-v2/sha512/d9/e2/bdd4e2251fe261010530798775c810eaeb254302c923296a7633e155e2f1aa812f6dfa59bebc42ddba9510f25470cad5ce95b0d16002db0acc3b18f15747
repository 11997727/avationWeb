{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-a9ffcf76\"],{cc44:function(e,t,a){\"use strict\";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"tinymce-editor\"},[a(\"editor\",{attrs:{init:e.init,disabled:e.disabled},on:{onClick:e.onClick},model:{value:e.myValue,callback:function(t){e.myValue=t},expression:\"myValue\"}})],1)},r=[],o=a(\"e562\"),i=a.n(o),s=a(\"ca72\"),n=(a(\"0d68\"),a(\"4ea8\"),a(\"3aea\"),a(\"07d1\"),a(\"84ec\"),a(\"9434\"),a(\"3154\"),a(\"4bd0\"),a(\"bc54\"),a(\"9a44\"),{components:{Editor:s[\"a\"]},props:{value:{type:String,default:\"\"},baseUrl:{type:String,default:\"\"},disabled:{type:Boolean,default:!1},plugins:{type:[String,Array],default:\"lists image media table wordcount fullscreen insertdatetime paste mathjax\"},toolbar:{type:[String,Array],default:\"undo redo |  formatselect | bold italic forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image media table | removeformat | fullscreen | insertdatetime | paste | mathjax\"}},data:function(){return{init:{language_url:\"tinymce/langs/zh_CN.js\",language:\"zh_CN\",skin_url:\"tinymce/skins/ui/oxide\",content_css:\"tinymce/skins/content/default/content.css\",paste_data_images:!0,height:300,plugins:this.plugins,toolbar:this.toolbar,branding:!1,menubar:!1,mathjax:{lib:\"mathjax/es5/tex-mml-chtml.js\"},images_upload_handler:function(e,t,a){var l=\"data:image/jpeg;base64,\"+e.base64();t(l)}},myValue:this.value}},watch:{value:function(e){this.myValue=e},myValue:function(e){this.$emit(\"input\",e)}},mounted:function(){i.a.init({})},methods:{onClick:function(e){this.$emit(\"onClick\",e,i.a)},clear:function(){this.myValue=\"\"},getContent:function(){return tinyMCE.activeEditor.getContent()},setContent:function(e){return tinyMCE.activeEditor.setContent(e)}}}),u=n,c=a(\"2877\"),d=Object(c[\"a\"])(u,l,r,!1,null,null,null);t[\"a\"]=d.exports},d42f:function(e,t,a){\"use strict\";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"el-form\",{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",staticStyle:{width:\"1200px\",\"margin-top\":\"30px\"},attrs:{model:e.ruleForm,rules:e.rules,\"label-width\":\"200px\"}},[a(\"el-row\",[a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"法规\",prop:\"regulationsId\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择法规\"},on:{change:e.onChange},model:{value:e.ruleForm.regulationsId,callback:function(t){e.$set(e.ruleForm,\"regulationsId\",t)},expression:\"ruleForm.regulationsId\"}},e._l(e.regulationsList,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.regulationsName,value:e.regulationsId}})})),1)],1)],1),e._v(\" \"),a(\"el-col\",{attrs:{span:12}},[a(\"el-form-item\",{attrs:{label:\"法规目录\",prop:\"directoryForeignKey\"}},[a(\"el-cascader\",{key:e.isResouceShow,attrs:{options:e.options,props:{value:\"id\",label:\"label\",checkStrictly:!0},clearable:\"\"},on:{change:e.onHandleChange},model:{value:e.valueId,callback:function(t){e.valueId=t},expression:\"valueId\"}})],1)],1)],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"条款编号\",prop:\"clauseNo\"}},[a(\"el-input\",{attrs:{type:\"number\"},model:{value:e.ruleForm.clauseNo,callback:function(t){e.$set(e.ruleForm,\"clauseNo\",e._n(t))},expression:\"ruleForm.clauseNo\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"条款编号别名\",prop:\"clauseNoAlias\"}},[a(\"el-input\",{model:{value:e.ruleForm.clauseNoAlias,callback:function(t){e.$set(e.ruleForm,\"clauseNoAlias\",t)},expression:\"ruleForm.clauseNoAlias\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"条款版本号\",prop:\"clauseVersion\"}},[a(\"el-input\",{model:{value:e.ruleForm.clauseVersion,callback:function(t){e.$set(e.ruleForm,\"clauseVersion\",t)},expression:\"ruleForm.clauseVersion\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"条款标题\",prop:\"clauseTitle\"}},[a(\"el-input\",{model:{value:e.ruleForm.clauseTitle,callback:function(t){e.$set(e.ruleForm,\"clauseTitle\",t)},expression:\"ruleForm.clauseTitle\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"*条款内容 \",prop:\"clauseContent\"}},[a(\"tinymce-editor\",{ref:\"editor\",attrs:{disabled:e.disabled},on:{onClick:e.onClick},model:{value:e.ruleForm.clauseContent,callback:function(t){e.$set(e.ruleForm,\"clauseContent\",t)},expression:\"ruleForm.clauseContent\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"关键词\",prop:\"clauseAntistop\"}},[a(\"el-input\",{model:{value:e.ruleForm.clauseAntistop,callback:function(t){e.$set(e.ruleForm,\"clauseAntistop\",t)},expression:\"ruleForm.clauseAntistop\"}})],1),e._v(\" \"),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.submitForm(\"ruleForm\")}}},[e._v(\"立即修改\")]),e._v(\" \"),a(\"el-button\",{on:{click:function(t){return e.getBack()}}},[e._v(\"返回\")])],1)],1)},r=[],o=a(\"cc44\"),i={components:{TinymceEditor:o[\"a\"]},data:function(){return{disabled:!1,regulationsList:[],valueId:\"\",isResouceShow:0,ruleForm:{regulationsId:\"\",clauseNo:\"\",clauseNoAlias:\"\",clauseVersion:\"\",clauseTitle:\"\",clauseContent:\"\",clauseAntistop:\"\",directoryForeignKey:\"\",clauseId:\"\"},rules:{regulationsId:[{required:!0,message:\"请选择法规\",trigger:\"change\"}],directoryForeignKey:[{required:!0,message:\"请选择法规目录\",trigger:\"change\"}],clauseNo:[{required:!0,message:\"请输入条款编号\",trigger:\"blur\"},{type:\"number\",message:\"请输入数字\",trigger:\"blur\"}],clauseNoAlias:[{required:!0,message:\"请输入条款编号别名\",trigger:\"blur\"}],clauseVersion:[{required:!0,message:\"请输入条款版本号\",trigger:\"blur\"}],clauseTitle:[{required:!0,message:\"请输入条款标题\",trigger:\"blur\"}],clauseContent:[{required:!0,message:\"请输入条款内容\"}],clauseAntistop:[{required:!0,message:\"请输入关键词\",trigger:\"blur\"}]},options:[]}},mounted:function(){this.getRegulations(),this.init()},methods:{getRegulations:function(){var e=this;this.$http.post(this.$url+\"regulations/showAll\").then((function(t){\"2001\"==t.data.code?e.regulationsList=t.data.data:e.regulationsList=[]}))},init:function(){var e=this;this.clauseId=this.$route.query.clauseId;var t=new URLSearchParams;t.append(\"clauseId\",this.clauseId),this.$http.post(this.$url+\"clause/queryClauseByClauseId\",t).then((function(t){if(\"2001\"==t.data.code){e.ruleForm=t.data.data,e.ruleForm.regulationsId=t.data.data.regulationsForeignkey;var a=new URLSearchParams;a.append(\"directoryId\",e.ruleForm.regulationsId),e.$http.post(e.$url+\"directory/selectDirectoryById2\",a).then((function(t){\"2001\"==t.data.code?(e.options=t.data.data,e.valueId=e.ruleForm.directoryForeignKey):e.options=[]}))}}))},onChange:function(){var e=this;++this.isResouceShow,this.valueId=\"\",this.options=[];var t=new URLSearchParams;t.append(\"directoryId\",this.ruleForm.regulationsId),this.$http.post(this.$url+\"directory/selectDirectoryById2\",t).then((function(t){\"2001\"==t.data.code?e.options=t.data.data:e.options=[]}))},onHandleChange:function(){1===this.valueId.length?this.ruleForm.directoryForeignKey=this.valueId[0]:this.ruleForm.directoryForeignKey=this.valueId[this.valueId.length-1]},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log(\"error submit!!\"),!1;var a=t;t.$http.post(t.$url+\"clause/updateClause\",a.ruleForm).then((function(e){\"2001\"==e.data.code?t.$message({message:\"修改成功\",type:\"success\"}):t.$message.error(\"修改失败\")}))}))},onClick:function(e,t){},getContent:function(){},setContent:function(e){this.$refs.editor.setContent(e)},getBack:function(){this.$router.push({path:\"/example/clauseList\"})}}},s=i,n=a(\"2877\"),u=Object(n[\"a\"])(s,l,r,!1,null,null,null);t[\"default\"]=u.exports}}]);","extractedComments":[]}