{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-69589a47\"],{4329:function(e,t,a){\"use strict\";var n=a(\"d28a\"),o=a.n(n);o.a},d28a:function(e,t,a){},f7bd:function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{stripe:\"\",data:e.tableData.filter((function(t){return!e.search||t.consultContent.includes(e.search)||t.userPhone.includes(e.search)}))}},[a(\"el-table-column\",{attrs:{prop:\"userName\",label:\"姓名\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row.userName))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"consultContent\",label:\"咨询内容\",\"show-overflow-tooltip\":!0,width:\"500px\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\",overflow:\"hidden\"}},[e._v(e._s(t.row.consultContent))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"consultCreatetime\",label:\"咨询时间\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(e._f(\"dateformat\")(t.row.consultCreatetime,\"YYYY-MM-DD HH:mm:ss\")))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"userPhone\",label:\"联系方式\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row.userPhone))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{align:\"right\",width:\"300px\"},scopedSlots:e._u([{key:\"header\",fn:function(t){return[a(\"el-input\",{attrs:{size:\"mini\",placeholder:\"输入关键字搜索\"},model:{value:e.search,callback:function(t){e.search=t},expression:\"search\"}})]}},{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(\"查看\")]),e._v(\" \"),a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){return e.handleDelete(t.$index,t.row.consultId)}}},[e._v(\"删除\")])]}}])})],1),e._v(\" \"),a(\"el-pagination\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{align:\"center\",\"current-page\":e.currentPage,\"page-sizes\":[5,10,20,30],\"page-size\":e.pageSize,layout:\"total, sizes, prev, pager, next, jumper\",total:e.total},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}}),e._v(\" \"),a(\"el-dialog\",{attrs:{title:\"咨询内容详情\",visible:e.dialogFormVisible,\"close-on-press-escape\":!1,\"close-on-click-modal\":!1,\"show-close\":!1},on:{\"update:visible\":function(t){e.dialogFormVisible=t}}},[a(\"el-form\",{attrs:{model:e.form}},[a(\"el-form-item\",{attrs:{label:\"咨询人：\",\"label-width\":\"120px\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\",readonly:!0},model:{value:e.form.userName,callback:function(t){e.$set(e.form,\"userName\",t)},expression:\"form.userName\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"联系电话：\",\"label-width\":\"120px\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\",readonly:!0},model:{value:e.form.userPhone,callback:function(t){e.$set(e.form,\"userPhone\",t)},expression:\"form.userPhone\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"咨询内容：\",\"label-width\":\"120px\"}},[a(\"el-input\",{attrs:{type:\"textarea\",autosize:\"\",readonly:!0},model:{value:e.form.consultContent,callback:function(t){e.$set(e.form,\"consultContent\",t)},expression:\"form.consultContent\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"相关条款编号：\",\"label-width\":\"120px\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\",readonly:!0},model:{value:e.form.clauseNo,callback:function(t){e.$set(e.form,\"clauseNo\",t)},expression:\"form.clauseNo\"}})],1)],1),e._v(\" \"),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(\"取 消\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(\"确 定\")])],1)],1)],1)},o=[],l={name:\"ConsultList\",data:function(){return{loading:!0,dialogFormVisible:!1,search:\"\",currentPage:1,pageSize:10,total:0,tableData:[],form:[]}},mounted:function(){this.onload()},methods:{handleEdit:function(e,t){this.form=t,this.dialogFormVisible=!0},handleDelete:function(e,t){var a=this;this.$confirm(\"此操作将永久删除该数据, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){var e=new URLSearchParams;e.append(\"consultId\",t),a.$http.post(a.$url+\"consult/delConsult\",e).then((function(e){2001===e.data.code&&(a.$message({message:\"删除成功\",type:\"success\"}),a.onload()),2004===e.data.code&&a.$message.error(\"删除失败\")}))})).catch((function(){a.$message({type:\"info\",message:\"已取消删除\"})}))},handleSizeChange:function(e){this.pageSize=e,this.onload()},handleCurrentChange:function(e){this.currentPage=e,this.onload()},onload:function(){var e=this,t=new URLSearchParams;t.append(\"page\",this.currentPage),t.append(\"limit\",this.pageSize),this.$http.post(this.$url+\"consult/getConsultList\",t).then((function(t){e.loading=!0,2001===t.data.code&&(console.log(\"请求成功\"),e.tableData=t.data.data,e.total=t.data.count,e.loading=!1),2004===t.data.code&&(console.log(\"请求失败\"),e.loading=!1)}))}}},s=l,r=(a(\"4329\"),a(\"2877\")),i=Object(r[\"a\"])(s,n,o,!1,null,null,null);t[\"default\"]=i.exports}}]);","extractedComments":[]}