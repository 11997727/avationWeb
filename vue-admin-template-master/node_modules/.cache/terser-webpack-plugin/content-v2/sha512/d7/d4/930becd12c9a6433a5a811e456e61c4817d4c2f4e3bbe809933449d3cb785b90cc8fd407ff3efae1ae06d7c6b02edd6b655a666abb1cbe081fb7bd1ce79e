{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-40af60c7\"],{2953:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"el-row\",{staticStyle:{\"margin-left\":\"30px\",\"margin-top\":\"30px\"}},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.onAdd}},[e._v(\"新增管理员\")])],1),e._v(\" \"),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{stripe:\"\",data:e.tableData.filter((function(t){return!e.search||t.aname.includes(e.search)||t.adminPhone.includes(e.search)}))}},[a(\"el-table-column\",{attrs:{prop:\"adminPhone\",label:\"管理员手机号\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row.adminPhone))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"adminName\",label:\"管理员姓名\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\",overflow:\"hidden\"}},[e._v(e._s(t.row.adminName))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"createTime\",label:\"添加日期\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(e._f(\"dateformat\")(t.row.adminCreatetime,\"YYYY-MM-DD HH:mm:ss\")))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{align:\"right\",width:\"300px\"},scopedSlots:e._u([{key:\"header\",fn:function(t){return[a(\"el-input\",{attrs:{size:\"mini\",placeholder:\"输入关键字搜索\"},model:{value:e.search,callback:function(t){e.search=t},expression:\"search\"}})]}},{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(\"Edit\")]),e._v(\" \"),a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(\"Delete\")])]}}])})],1),e._v(\" \"),a(\"el-pagination\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{align:\"center\",\"current-page\":e.currentPage,\"page-sizes\":[5,10,20,30],\"page-size\":e.pageSize,layout:\"total, sizes, prev, pager, next, jumper\",total:e.total},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}}),e._v(\" \"),a(\"el-dialog\",{attrs:{title:\"添加子管理员\",visible:e.dialogFormVisible,width:\"500px\"},on:{\"update:visible\":function(t){e.dialogFormVisible=t}}},[a(\"el-form\",{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{model:e.ruleForm,rules:e.rules}},[a(\"el-form-item\",{attrs:{label:\"管理员姓名：\",\"label-width\":\"120px\",prop:\"adminName\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.ruleForm.adminName,callback:function(t){e.$set(e.ruleForm,\"adminName\",t)},expression:\"ruleForm.adminName\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"手机号：\",\"label-width\":\"120px\",prop:\"adminPhone\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.ruleForm.adminPhone,callback:function(t){e.$set(e.ruleForm,\"adminPhone\",e._n(t))},expression:\"ruleForm.adminPhone\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"密码：\",\"label-width\":\"120px\",prop:\"adminPassword\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\",\"show-password\":\"\"},model:{value:e.ruleForm.adminPassword,callback:function(t){e.$set(e.ruleForm,\"adminPassword\",t)},expression:\"ruleForm.adminPassword\"}})],1)],1),e._v(\" \"),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(\"取 消\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.onSubmit(\"ruleForm\")}}},[e._v(\"确 定\")])],1)],1),e._v(\" \"),a(\"el-dialog\",{attrs:{title:\"管理子管理员\",visible:e.formVisible,width:\"500px\"},on:{\"update:visible\":function(t){e.formVisible=t},close:e.close}},[a(\"el-form\",{ref:\"form\",staticClass:\"demo-ruleForm\",attrs:{model:e.form,rules:e.adminRules}},[a(\"el-form-item\",{attrs:{label:\"手机号：\",\"label-width\":\"120px\",prop:\"adminPhone\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\",readonly:!0},model:{value:e.form.adminPhone,callback:function(t){e.$set(e.form,\"adminPhone\",e._n(t))},expression:\"form.adminPhone\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"管理员姓名：\",\"label-width\":\"120px\",prop:\"adminName\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.adminName,callback:function(t){e.$set(e.form,\"adminName\",t)},expression:\"form.adminName\"}})],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"密码：\",\"label-width\":\"120px\",prop:\"adminPassword\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\",\"show-password\":\"\"},model:{value:e.form.adminPassword,callback:function(t){e.$set(e.form,\"adminPassword\",t)},expression:\"form.adminPassword\"}})],1)],1),e._v(\" \"),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.formVisible=!1}}},[e._v(\"取 消\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.onChange(\"form\")}}},[e._v(\"确 定\")])],1)],1)],1)},n=[],o=(a(\"6b54\"),a(\"c5f6\"),{data:function(){var e=function(e,t,a){if(\"\"===t)a(new Error(\"请输入密码\"));else{var r=/^1[3|4|5|7|8][0-9]\\d{8}$/,n=r.test(t);t=Number(t),\"number\"!==typeof t||isNaN(t)?a(new Error(\"请输入电话号码\")):(t=t.toString(),t.length<0||t.length>12||!n?a(new Error(\"手机号码格式如:138xxxx8754\")):a())}};return{loading:!0,formVisible:!1,dialogFormVisible:!1,ruleForm:{},form:{},search:\"\",currentPage:1,pageSize:10,total:0,tableData:[],rules:{adminName:[{required:!0,message:\"请输入管理员姓名\",trigger:\"blur\"},{max:100,message:\"长度不超过100个字符\",trigger:\"blur\"}],adminPhone:[{validator:e,trigger:\"blur\"}],adminPassword:[{required:!0,message:\"请输入密码\",trigger:\"blur\"},{min:6,max:20,message:\"长度在 6 到 20 个字符\",trigger:\"blur\"}]},adminRules:{adminName:[{required:!0,message:\"请输入管理员姓名\",trigger:\"blur\"},{max:100,message:\"长度不超过100个字符\",trigger:\"blur\"}],adminPassword:[{required:!0,message:\"请输入密码\",trigger:\"blur\"},{min:6,max:20,message:\"长度在 6 到 20 个字符\",trigger:\"blur\"}]}}},mounted:function(){this.onload()},methods:{close:function(){this.onload()},onAdd:function(){this.dialogFormVisible=!0},onSubmit:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log(\"error submit!!\"),!1;t.$http.post(t.$url+\"admin/addAdmin\",t.ruleForm).then((function(e){t.loading=!0,2001===e.data.code?(t.$message({message:\"新增成功\",type:\"success\"}),t.dialogFormVisible=!1,t.onload()):2002===e.data.code?t.$message.error(\"手机号重复\"):t.$message.error(\"添加失败\")}))}))},onChange:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log(\"error submit!!\"),!1;t.$http.post(t.$url+\"admin/updateAdmin\",t.form).then((function(e){t.loading=!0,2001===e.data.code?(t.$message({message:\"修改成功\",type:\"success\"}),t.formVisible=!1,t.onload()):t.$message.error(\"修改失败\")}))}))},handleEdit:function(e,t){this.form=t,this.formVisible=!0},handleDelete:function(e,t){var a=this;this.$confirm(\"此操作将永久删除该数据, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){var e=new URLSearchParams;e.append(\"adminId\",t.adminId),a.$http.post(a.$url+\"admin/delAdmin\",e).then((function(e){2001===e.data.code&&(a.$message({message:\"删除成功\",type:\"success\"}),a.onload()),2004===e.data.code&&a.$message.error(\"删除失败\")}))})).catch((function(){a.$message({type:\"info\",message:\"已取消删除\"})}))},handleSizeChange:function(e){this.pageSize=e,this.onload()},handleCurrentChange:function(e){this.currentPage=e,this.onload()},onload:function(){var e=this,t=new URLSearchParams;t.append(\"page\",this.currentPage),t.append(\"limit\",this.pageSize),this.$http.post(this.$url+\"admin/showAdmin\",t).then((function(t){e.loading=!0,2001===t.data.code&&(console.log(\"请求成功\"),e.tableData=t.data.data,e.total=t.data.count,e.loading=!1),3001===t.data.code&&(console.log(\"请求失败\"),e.loading=!1)}))}}}),i=o,l=a(\"2877\"),s=Object(l[\"a\"])(i,r,n,!1,null,null,null);t[\"default\"]=s.exports},aa77:function(e,t,a){var r=a(\"5ca1\"),n=a(\"be13\"),o=a(\"79e5\"),i=a(\"fdef\"),l=\"[\"+i+\"]\",s=\"​\",m=RegExp(\"^\"+l+l+\"*\"),d=RegExp(l+l+\"*$\"),u=function(e,t,a){var n={},l=o((function(){return!!i[e]()||s[e]()!=s})),m=n[e]=l?t(c):i[e];a&&(n[a]=m),r(r.P+r.F*l,\"String\",n)},c=u.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(m,\"\")),2&t&&(e=e.replace(d,\"\")),e};e.exports=u},c5f6:function(e,t,a){\"use strict\";var r=a(\"7726\"),n=a(\"69a8\"),o=a(\"2d95\"),i=a(\"5dbc\"),l=a(\"6a99\"),s=a(\"79e5\"),m=a(\"9093\").f,d=a(\"11e9\").f,u=a(\"86cc\").f,c=a(\"aa77\").trim,f=\"Number\",p=r[f],g=p,h=p.prototype,b=o(a(\"2aeb\")(h))==f,v=\"trim\"in String.prototype,w=function(e){var t=l(e,!1);if(\"string\"==typeof t&&t.length>2){t=v?t.trim():c(t,3);var a,r,n,o=t.charCodeAt(0);if(43===o||45===o){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+t}for(var i,s=t.slice(2),m=0,d=s.length;m<d;m++)if(i=s.charCodeAt(m),i<48||i>n)return NaN;return parseInt(s,r)}}return+t};if(!p(\" 0o1\")||!p(\"0b1\")||p(\"+0x1\")){p=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof p&&(b?s((function(){h.valueOf.call(a)})):o(a)!=f)?i(new g(w(t)),a,p):w(t)};for(var _,x=a(\"9e1e\")?m(g):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger\".split(\",\"),N=0;x.length>N;N++)n(g,_=x[N])&&!n(p,_)&&u(p,_,d(g,_));p.prototype=h,h.constructor=p,a(\"2aba\")(r,f,p)}},fdef:function(e,t){e.exports=\"\\t\\n\\v\\f\\r   ᠎             　\\u2028\\u2029\\ufeff\"}}]);","extractedComments":[]}