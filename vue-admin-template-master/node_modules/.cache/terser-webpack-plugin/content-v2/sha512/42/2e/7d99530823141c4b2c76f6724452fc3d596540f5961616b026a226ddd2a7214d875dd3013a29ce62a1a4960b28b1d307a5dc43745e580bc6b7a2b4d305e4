{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-2d0e200f\"],{\"7d9e\":function(e,t,a){\"use strict\";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{stripe:\"\",\"default-sort\":{prop:\"vip\",order:\"descending\"},data:e.tableData.filter((function(t){return!e.search||t.userName.toLowerCase().includes(e.search.toLowerCase())||t.userPhone.includes(e.search)}))}},[a(\"el-table-column\",{attrs:{prop:\"userName\",label:\"姓名\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row.userName))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"userPhone\",label:\"手机号\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row.userPhone))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"userSex\",label:\"性别\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(1==t.row.userSex?\"女\":\"男\"))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"userType\",label:\"会员类型\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(1==t.row.userType?\"VIP会员\":\"普通会员\"))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"userDeleteStatus\",label:\"状态\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(1==t.row.userDeleteStatus?\"正常\":\"禁用\"))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{align:\"right\",width:\"300px\"},scopedSlots:e._u([{key:\"header\",fn:function(t){return[a(\"el-input\",{attrs:{size:\"mini\",placeholder:\"输入关键字搜索\"},model:{value:e.search,callback:function(t){e.search=t},expression:\"search\"}})]}},{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(\"编辑\")])]}}])})],1),e._v(\" \"),a(\"el-pagination\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{align:\"center\",\"current-page\":e.currentPage,\"page-sizes\":[5,10,20,30],\"page-size\":e.pageSize,layout:\"total, sizes, prev, pager, next, jumper\",total:e.total},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}}),e._v(\" \"),a(\"el-dialog\",{attrs:{title:\"用户管理\",visible:e.dialogFormVisible,width:\"500px\",\"close-on-press-escape\":!1,\"close-on-click-modal\":!1,\"show-close\":!1},on:{\"update:visible\":function(t){e.dialogFormVisible=t},close:e.close}},[a(\"el-form\",{attrs:{model:e.form}},[a(\"el-form-item\",{attrs:{label:\"会员类型\",\"label-width\":\"120px\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择会员类型\"},model:{value:e.form.userType,callback:function(t){e.$set(e.form,\"userType\",t)},expression:\"form.userType\"}},[a(\"el-option\",{attrs:{label:\"普通会员\",value:0}}),e._v(\" \"),a(\"el-option\",{attrs:{label:\"VIP会员\",value:1}})],1)],1),e._v(\" \"),a(\"el-form-item\",{attrs:{label:\"会员管理\",\"label-width\":\"120px\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择会员类型\"},model:{value:e.form.userDeleteStatus,callback:function(t){e.$set(e.form,\"userDeleteStatus\",t)},expression:\"form.userDeleteStatus\"}},[a(\"el-option\",{attrs:{label:\"禁用\",value:0}}),e._v(\" \"),a(\"el-option\",{attrs:{label:\"正常\",value:1}})],1)],1)],1),e._v(\" \"),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(\"取 消\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.onSumbit}},[e._v(\"确 定\")])],1)],1)],1)},o=[],s={name:\"User\",data:function(){return{loading:!0,dialogFormVisible:!1,search:\"\",currentPage:1,pageSize:10,total:0,tableData:[],form:[]}},mounted:function(){this.onload()},methods:{close:function(){this.onload()},handleEdit:function(e,t){this.form=t,this.dialogFormVisible=!0},handleSizeChange:function(e){this.pageSize=e,this.onload()},handleCurrentChange:function(e){this.currentPage=e,this.onload()},onload:function(){var e=this,t=new URLSearchParams;t.append(\"page\",this.currentPage),t.append(\"limit\",this.pageSize),this.$http.post(this.$url+\"user/getUsersList\",t).then((function(t){e.loading=!0,2001===t.data.code&&(e.tableData=t.data.data,e.total=t.data.count,e.loading=!1),2004===t.data.code&&(e.loading=!1)}))},onSumbit:function(){var e=this;this.$http.post(this.$url+\"user/updateUser\",this.form).then((function(t){2001===t.data.code&&(e.$message({message:\"修改成功\",type:\"success\"}),e.dialogFormVisible=!1),2004===t.data.code&&e.$message.error(\"修改失败\")}))}}},n=s,r=a(\"2877\"),i=Object(r[\"a\"])(n,l,o,!1,null,null,null);t[\"default\"]=i.exports}}]);","extractedComments":[]}