{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-a4142c18\"],{d383:function(t,e,a){\"use strict\";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"el-form\",{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{model:t.ruleForm,\"label-width\":\"100px\"}},[a(\"el-row\",{staticClass:\"demo-form-inline\",staticStyle:{\"margin-top\":\"30px\",\"margin-left\":\"30px\"},attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"法规\",prop:\"regulationsId\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择法规\"},model:{value:t.ruleForm.regulationsId,callback:function(e){t.$set(t.ruleForm,\"regulationsId\",e)},expression:\"ruleForm.regulationsId\"}},t._l(t.regulationsList,(function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.regulationsName,value:t.regulationsId}})})),1)],1)],1),t._v(\" \"),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"条款号\",prop:\"clauseNo\"}},[a(\"el-input\",{model:{value:t.ruleForm.clauseNo,callback:function(e){t.$set(t.ruleForm,\"clauseNo\",t._n(e))},expression:\"ruleForm.clauseNo\"}})],1)],1),t._v(\" \"),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"关键词\",prop:\"clauseAntistop\"}},[a(\"el-input\",{model:{value:t.ruleForm.clauseAntistop,callback:function(e){t.$set(t.ruleForm,\"clauseAntistop\",e)},expression:\"ruleForm.clauseAntistop\"}})],1)],1),t._v(\" \"),a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){return t.submitForm(\"ruleForm\")}}},[t._v(\"搜索\")]),t._v(\" \"),a(\"el-button\",{on:{click:function(e){return t.resetForm(\"ruleForm\")}}},[t._v(\"重置\")])],1)],1)],1),t._v(\" \"),a(\"el-row\",{staticClass:\"demo-form-inline\",staticStyle:{\"margin-top\":\"30px\",\"margin-left\":\"30px\"},attrs:{gutter:20}},[a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.btn}},[t._v(\"新增条款\")])],1)],1)],1)],1),t._v(\" \"),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],attrs:{stripe:\"\",\"default-sort\":{prop:\"date\",order:\"descending\"},data:t.tableData.filter((function(e){return!t.search||e.clauseTitle.toLowerCase().includes(t.search.toLowerCase())}))}},[a(\"el-table-column\",{attrs:{prop:\"clauseNo\",label:\"条款号\",sortable:\"\",width:\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[t._v(t._s(e.row.clauseNo))])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"clauseNoAlias\",label:\"条款号别名\",width:\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[t._v(t._s(e.row.clauseNoAlias))])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"clauseTitle\",label:\"条款标题\",sortable:\"\",width:\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[t._v(t._s(e.row.clauseTitle))])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"regulationsName\",label:\"所属法规名称\",sortable:\"\",width:\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[t._v(t._s(e.row.regulationsName))])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"clauseVersion\",label:\"版本号\",sortable:\"\",width:\"300\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[t._v(t._s(e.row.clauseVersion))])]}}])}),t._v(\" \"),a(\"el-table-column\",{attrs:{align:\"right\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v(\"编辑\")]),t._v(\" \"),a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v(\"删除\")])]}}])})],1),t._v(\" \"),a(\"el-pagination\",{staticStyle:{\"margin-top\":\"20px\"},attrs:{align:\"center\",\"current-page\":t.currentPage,\"page-sizes\":[5,10,20,30],\"page-size\":t.pageSize,layout:\"total, sizes, prev, pager, next, jumper\",total:t.total},on:{\"size-change\":t.handleSizeChange,\"current-change\":t.handleCurrentChange}})],1)},n=[],r={name:\"RegulationsList\",data:function(){return{tableData:[],search:\"\",currentPage:1,pageSize:10,total:0,loading:!0,regulationsList:[],ruleForm:{clauseNo:\"\",clauseAntistop:\"\",regulationsId:\"\"}}},mounted:function(){this.getRegulations(),this.getData()},methods:{submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log(\"error submit!!\"),!1;e.getData()}))},resetForm:function(t){this.$refs[t].resetFields()},btn:function(){this.$router.push({path:\"/example/addClause\"})},handleEdit:function(t,e){this.$router.push({path:\"/example/updateClause\",query:{clauseId:e.clauseId}})},handleDelete:function(t,e){var a=this;this.$http.get(this.$url+\"clause/delClause\",{params:{clauseId:e.clauseId}}).then((function(t){\"2001\"==t.data.code?(a.$message({message:\"删除成功\",type:\"success\"}),a.getData()):a.$message.error(\"删除失败\")}))},handleSizeChange:function(t){this.pageSize=t,this.getData()},handleCurrentChange:function(t){this.currentPage=t,this.getData()},getRegulations:function(){var t=this;this.$http.post(this.$url+\"regulations/showAll\").then((function(e){\"2001\"==e.data.code?t.regulationsList=e.data.data:t.regulationsList=[]}))},getData:function(){var t=this,e=new URLSearchParams;e.append(\"page\",this.currentPage),e.append(\"limit\",this.pageSize),e.append(\"regulationsId\",this.ruleForm.regulationsId),e.append(\"clauseAntistop\",this.ruleForm.clauseAntistop),e.append(\"clauseNo\",this.ruleForm.clauseNo),this.$http.post(this.$url+\"clause/showClause\",e).then((function(e){\"2001\"==e.data.code?(t.loading=!1,t.tableData=e.data.data,t.total=e.data.count,t.pageSize=e.data.limit,t.currentPage=e.data.page):(t.total=e.data.count,t.loading=!1,t.tableData=[])}))}}},s=r,o=(a(\"f84b\"),a(\"2877\")),i=Object(o[\"a\"])(s,l,n,!1,null,null,null);e[\"default\"]=i.exports},e8bd:function(t,e,a){},f84b:function(t,e,a){\"use strict\";var l=a(\"e8bd\"),n=a.n(l);n.a}}]);","extractedComments":[]}