{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-b6858884\"],{2017:function(e,s,n){\"use strict\";var t=n(\"b12d\"),o=n.n(t);o.a},\"9ed6\":function(e,s,n){\"use strict\";n.r(s);var t=function(){var e=this,s=e.$createElement,n=e._self._c||s;return n(\"div\",{staticClass:\"login-container\"},[n(\"el-form\",{ref:\"loginForm\",staticClass:\"login-form\",attrs:{model:e.loginForm,rules:e.loginRules,\"auto-complete\":\"on\",\"label-position\":\"left\"}},[n(\"div\",{staticClass:\"title-container\"},[n(\"h3\",{staticClass:\"title\"},[e._v(\"航多知识管理后台\")])]),e._v(\" \"),n(\"el-form-item\",{attrs:{prop:\"username\"}},[n(\"span\",{staticClass:\"svg-container\"},[n(\"svg-icon\",{attrs:{\"icon-class\":\"user\"}})],1),e._v(\" \"),n(\"el-input\",{ref:\"username\",attrs:{placeholder:\"Username\",name:\"username\",type:\"text\",tabindex:\"1\",\"auto-complete\":\"on\"},model:{value:e.loginForm.username,callback:function(s){e.$set(e.loginForm,\"username\",s)},expression:\"loginForm.username\"}})],1),e._v(\" \"),n(\"el-form-item\",{attrs:{prop:\"password\"}},[n(\"span\",{staticClass:\"svg-container\"},[n(\"svg-icon\",{attrs:{\"icon-class\":\"password\"}})],1),e._v(\" \"),n(\"el-input\",{key:e.passwordType,ref:\"password\",attrs:{type:e.passwordType,placeholder:\"Password\",name:\"password\",tabindex:\"2\",\"auto-complete\":\"on\"},nativeOn:{keyup:function(s){return!s.type.indexOf(\"key\")&&e._k(s.keyCode,\"enter\",13,s.key,\"Enter\")?null:e.handleLogin(s)}},model:{value:e.loginForm.password,callback:function(s){e.$set(e.loginForm,\"password\",s)},expression:\"loginForm.password\"}}),e._v(\" \"),n(\"span\",{staticClass:\"show-pwd\",on:{click:e.showPwd}},[n(\"svg-icon\",{attrs:{\"icon-class\":\"password\"===e.passwordType?\"eye\":\"eye-open\"}})],1)],1),e._v(\" \"),n(\"el-button\",{staticStyle:{width:\"100%\",\"margin-bottom\":\"30px\"},attrs:{loading:e.loading,type:\"primary\"},nativeOn:{click:function(s){return s.preventDefault(),e.handleLogin(s)}}},[e._v(\"Login\")])],1)],1)},o=[],r={name:\"Login\",data:function(){var e=function(e,s,n){s.length<6?n(new Error(\"Please enter the correct user name\")):n()},s=function(e,s,n){s.length<6?n(new Error(\"The password can not be less than 6 digits\")):n()};return{loginForm:{username:\"\",password:\"\"},loginRules:{username:[{required:!0,trigger:\"blur\",validator:e}],password:[{required:!0,trigger:\"blur\",validator:s}]},loading:!1,passwordType:\"password\",redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd:function(){var e=this;\"password\"===this.passwordType?this.passwordType=\"\":this.passwordType=\"password\",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(s){if(!s)return console.log(\"error submit!!\"),!1;e.loading=!0;var n=new URLSearchParams;n.append(\"username\",e.loginForm.username),n.append(\"password\",e.loginForm.password),e.$http.post(e.$url+\"admin/login\",n).then((function(s){\"2001\"==s.data.code?(sessionStorage.setItem(\"admin\",JSON.stringify(s.data.data)),e.$store.dispatch(\"user/login\",e.loginForm).then((function(){e.$router.push({path:e.redirect||\"/\"}),e.loading=!1})).catch((function(){e.loading=!1})),e.$message({message:\"恭喜你，登录成功\",type:\"success\"})):(e.$message.error(\"对不起，账号密码错误\"),e.loading=!1)}))}))}}},a=r,i=(n(\"2017\"),n(\"d46a\"),n(\"2877\")),l=Object(i[\"a\"])(a,t,o,!1,null,\"cf430a66\",null);s[\"default\"]=l.exports},b12d:function(e,s,n){},c9ae:function(e,s,n){},d46a:function(e,s,n){\"use strict\";var t=n(\"c9ae\"),o=n.n(t);o.a}}]);","extractedComments":[]}