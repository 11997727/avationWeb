{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-5480a52a\"],{a384:function(e,r,t){},f3fd:function(e,r,t){\"use strict\";var a=t(\"a384\"),l=t.n(a);l.a},fe14:function(e,r,t){\"use strict\";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t(\"div\",[t(\"el-form\",{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",staticStyle:{width:\"1200px\",\"margin-top\":\"30px\"},attrs:{model:e.ruleForm,rules:e.rules,\"label-width\":\"200px\"}},[t(\"el-form-item\",{attrs:{label:\"网站状态 ：\",prop:\"webStatus\"}},[t(\"el-radio-group\",{model:{value:e.ruleForm.webStatus,callback:function(r){e.$set(e.ruleForm,\"webStatus\",r)},expression:\"ruleForm.webStatus\"}},[t(\"el-radio\",{attrs:{label:1}},[e._v(\"开启\")]),e._v(\" \"),t(\"el-radio\",{attrs:{label:0}},[e._v(\"关闭\")])],1)],1),e._v(\" \"),t(\"el-form-item\",{attrs:{label:\"网站标题：\",prop:\"webTitle\"}},[t(\"el-input\",{model:{value:e.ruleForm.webTitle,callback:function(r){e.$set(e.ruleForm,\"webTitle\",r)},expression:\"ruleForm.webTitle\"}})],1),e._v(\" \"),t(\"el-form-item\",{attrs:{label:\"网站域名：\",prop:\"webDomainName\"}},[t(\"el-input\",{model:{value:e.ruleForm.webDomainName,callback:function(r){e.$set(e.ruleForm,\"webDomainName\",r)},expression:\"ruleForm.webDomainName\"}})],1),e._v(\" \"),t(\"el-form-item\",{attrs:{label:\"网站logo\"}},[t(\"el-upload\",{staticClass:\"avatar-uploader\",attrs:{action:\"\",\"auto-upload\":!1,\"on-change\":e.handleChange,\"on-remove\":e.handleRemove,\"before-upload\":e.beforeAvatarUpload}},[e.ruleForm.webLogoPath?t(\"img\",{staticClass:\"avatar\",attrs:{src:e.ruleForm.webLogoPath}}):t(\"i\",{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),e._v(\" \"),t(\"el-form-item\",{attrs:{label:\"公司邮箱：\",prop:\"webEmail\"}},[t(\"el-input\",{model:{value:e.ruleForm.webEmail,callback:function(r){e.$set(e.ruleForm,\"webEmail\",r)},expression:\"ruleForm.webEmail\"}})],1),e._v(\" \"),t(\"el-form-item\",{attrs:{label:\"站点语言：\",prop:\"language\"}},[t(\"el-select\",{staticStyle:{width:\"300px\"},attrs:{placeholder:\"请选择\"},model:{value:e.ruleForm.language,callback:function(r){e.$set(e.ruleForm,\"language\",r)},expression:\"ruleForm.language\"}},[t(\"el-option\",{attrs:{label:\"简体中文\",value:1}}),e._v(\" \"),t(\"el-option\",{attrs:{label:\"繁體中文\",value:2}})],1)],1),e._v(\" \"),t(\"el-form-item\",[t(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(r){return e.submitForm(\"ruleForm\")}}},[e._v(\"确认\")]),e._v(\" \"),t(\"el-button\",{on:{click:function(r){return e.resetForm(\"ruleForm\")}}},[e._v(\"重置\")])],1)],1)],1)},l=[],o={data:function(){return{ruleForm:{webId:\"\",webStatus:\"\",webTitle:\"\",webDomainName:\"\",webEmail:\"\",language:\"\",webLogoPath:\"\"},rules:{webTitle:[{required:!0,message:\"请输入网站标题\",trigger:\"blur\"},{min:3,max:100,message:\"长度在 3 到 100 个字符\",trigger:\"blur\"}],language:[{required:!0,message:\"请选择语音\",trigger:\"change\"}],webDomainName:[{required:!0,message:\"请输入域名\",trigger:\"blur\"},{min:3,max:100,message:\"长度在 3 到 100 个字符\",trigger:\"blur\"}],webEmail:[{required:!0,message:\"请输入邮箱地址\",trigger:\"blur\"},{type:\"email\",message:\"请输入正确的邮箱地址\",trigger:[\"blur\",\"change\"]}],webStatus:[{required:!0,message:\"请选择网站动态\",trigger:\"change\"}]}}},mounted:function(){this.init()},methods:{handleRemove:function(e,r){this.ruleForm.webLogoPath=\"\"},handleChange:function(e,r){var t=this;this.getBase64(e.raw).then((function(e){t.ruleForm.webLogoPath=e}))},init:function(){var e=this;this.$http.post(this.$url+\"admin/initWeb\").then((function(r){\"2001\"==r.data.code?e.ruleForm=r.data.data:e.ruleForm=[]}))},getBase64:function(e){return new Promise((function(r,t){var a=new FileReader,l=\"\";a.readAsDataURL(e),a.onload=function(){l=a.result},a.onerror=function(e){t(e)},a.onloadend=function(){r(l)}}))},beforeAvatarUpload:function(e){var r=\"image/jpeg\"===e.type,t=e.size/1024/1024<2;return r||this.$message.error(\"上传头像图片只能是 JPG 格式!\"),t||this.$message.error(\"上传头像图片大小不能超过 2MB!\"),r&&t},submitForm:function(e){var r=this;this.$refs[e].validate((function(e){if(!e)return console.log(\"error submit!!\"),!1;r.$http.post(r.$url+\"admin/updateWeb\",r.ruleForm).then((function(e){\"2001\"==e.data.code?r.$message({message:\"修改成功\",type:\"success\"}):r.$message.error(\"修改失败\")}))}))},resetForm:function(e){this.$refs[e].resetFields(),this.ruleForm.webLogoPath=\"\"}}},i=o,n=(t(\"f3fd\"),t(\"2877\")),s=Object(n[\"a\"])(i,a,l,!1,null,null,null);r[\"default\"]=s.exports}}]);","extractedComments":[]}