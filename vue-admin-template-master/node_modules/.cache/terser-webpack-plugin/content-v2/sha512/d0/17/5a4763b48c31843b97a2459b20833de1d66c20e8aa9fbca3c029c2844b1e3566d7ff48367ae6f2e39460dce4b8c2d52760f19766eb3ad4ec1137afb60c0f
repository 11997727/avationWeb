{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-435895d7\"],{a5cf:function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"el-form\",{staticClass:\"demo-form-inline\",staticStyle:{\"margin-top\":\"30px\",\"margin-left\":\"30px\"},attrs:{inline:!0}},[a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.btn}},[e._v(\"新增一级分类\")])],1)],1),e._v(\" \"),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],attrs:{stripe:\"\",\"default-sort\":{prop:\"date\",order:\"descending\"},data:e.tableData.filter((function(t){return!e.search||t.regulationsTypeName.toLowerCase().includes(e.search.toLowerCase())}))}},[a(\"el-table-column\",{attrs:{prop:\"regulationsTypeName\",label:\"一级分类\",sortable:\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row.regulationsTypeName))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{prop:\"cname\",label:\"二级分类\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return e._l(t.row.classifyList,(function(t,n){return a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.cname))])}))}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{align:\"right\"},scopedSlots:e._u([{key:\"header\",fn:function(t){return[a(\"el-input\",{attrs:{size:\"mini\",placeholder:\"输入关键字搜索\"},model:{value:e.search,callback:function(t){e.search=t},expression:\"search\"}})]}},{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v(\"编辑\")]),e._v(\" \"),a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}},[e._v(\"删除\")])]}}])})],1),e._v(\" \"),a(\"el-dialog\",{attrs:{title:\"二级分类列表\",visible:e.dialogTableVisible},on:{\"update:visible\":function(t){e.dialogTableVisible=t},close:e.closeDialog}},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.btn2}},[e._v(\"新增二级分类\")]),e._v(\" \"),a(\"el-table\",{attrs:{data:e.gridData.filter((function(t){return!e.search2||t.cname.toLowerCase().includes(e.search2.toLowerCase())}))}},[a(\"el-table-column\",{attrs:{prop:\"regulationsPartNoAlias\",label:\"二级分类\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"span\",{staticStyle:{\"margin-left\":\"10px\"}},[e._v(e._s(t.row.cname))])]}}])}),e._v(\" \"),a(\"el-table-column\",{attrs:{align:\"right\"},scopedSlots:e._u([{key:\"header\",fn:function(t){return[a(\"el-input\",{attrs:{size:\"mini\",placeholder:\"输入关键字搜索\"},model:{value:e.search2,callback:function(t){e.search2=t},expression:\"search2\"}})]}},{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{size:\"mini\"},on:{click:function(a){return e.handleEdit2(t.$index,t.row)}}},[e._v(\"编辑\")]),e._v(\" \"),a(\"el-button\",{attrs:{size:\"mini\",type:\"danger\"},on:{click:function(a){return e.handleDelete2(t.$index,t.row)}}},[e._v(\"删除\")])]}}])})],1)],1),e._v(\" \"),a(\"el-dialog\",{attrs:{title:\"修改二级分类\",visible:e.dialogFormVisible,\"close-on-press-escape\":!1,\"close-on-click-modal\":!1,\"show-close\":!1},on:{\"update:visible\":function(t){e.dialogFormVisible=t}}},[a(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules}},[a(\"el-form-item\",{attrs:{label:\"请输入二级分类名称\",prop:\"cname\"}},[a(\"el-input\",{attrs:{autocomplete:\"off\"},model:{value:e.form.cname,callback:function(t){e.$set(e.form,\"cname\",t)},expression:\"form.cname\"}})],1)],1),e._v(\" \"),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){return e.quxiao(\"form\")}}},[e._v(\"取 消\")]),e._v(\" \"),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.dialogForm(\"form\")}}},[e._v(\"确 定\")])],1)],1)],1)},i=[],s={name:\"RegulationsTrype\",data:function(){return{dialogFormVisible:!1,dialogTableVisible:!1,tableData:[],search:\"\",search2:\"\",loading:!0,gridData:[],cid:\"\",regulationsTypeId:\"\",form:{cname:\"\"},rules:{cname:[{required:!0,message:\"请输入二级分类名称\",trigger:\"blur\"}]}}},mounted:function(){this.getData()},methods:{btn:function(){var e=this;this.$prompt(\"请输入一级分类名称\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",inputPattern:/^[\\s\\S]*.*[^\\s][\\s\\S]*$/,inputErrorMessage:\"请输入\"}).then((function(t){var a=t.value;e.$http.get(e.$url+\"regulationsTrype/addOneType\",{params:{regulationsTypeName:a}}).then((function(t){\"2001\"==t.data.code?(e.$message({type:\"success\",message:\"添加成功 \"}),e.getData()):e.$message.error(\"添加失败\")}))})).catch((function(){e.$message({type:\"info\",message:\"取消输入\"})}))},handleEdit:function(e,t){this.regulationsTypeId=t.regulationsTypeId,this.getGridData(),this.dialogTableVisible=!0},getGridData:function(){var e=this;this.$http.get(this.$url+\"cassify/classifyList\",{params:{regulationsTypeId:this.regulationsTypeId}}).then((function(t){\"2001\"==t.data.code?e.gridData=t.data.data:e.gridData=[]}))},btn2:function(){var e=this,t=this,a=t.regulationsTypeId;this.$prompt(\"请输入二级分类名称\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",inputPattern:/^[\\s\\S]*.*[^\\s][\\s\\S]*$/,inputErrorMessage:\"请输入\"}).then((function(n){var i=n.value;t.$http.get(e.$url+\"cassify/addCassify\",{params:{cname:i,ck:a}}).then((function(a){\"2001\"==a.data.code?(t.$message({type:\"success\",message:\"添加成功 \"}),t.getGridData()):e.$message.error(\"添加失败\")}))})).catch((function(){e.$message({type:\"info\",message:\"取消输入\"})}))},handleEdit2:function(e,t){this.dialogFormVisible=!0,this.cid=t.cid},handleDelete2:function(e,t){var a=this,n=new URLSearchParams;n.append(\"cid\",t.cid),this.$http.post(a.$url+\"cassify/delClassifyByCid\",n).then((function(e){console.log(JSON.stringify(e.data)),\"2001\"==e.data.code?(a.$message({type:\"success\",message:\"删除成功 \"}),a.getGridData()):a.$message.error(\"删除失败\")}))},dialogForm:function(e){var t=this;this.$refs[e].validate((function(a){if(!a)return console.log(\"error submit!!\"),!1;var n=t;n.$http.get(t.$url+\"cassify/classifyUpdateByCid\",{params:{cid:t.cid,cname:t.form.cname}}).then((function(a){\"2001\"==a.data.code?(t.$message({type:\"success\",message:\"修改成功 \"}),n.dialogFormVisible=!1,n.getGridData()):n.$message.error(\"修改失败\"),t.$refs[e].resetFields()}))}))},quxiao:function(e){this.dialogFormVisible=!1,this.$refs[e].resetFields()},closeDialog:function(){this.getData()},handleDelete:function(e,t){var a=this;console.log(t.regulationsTypeId),this.$http.get(this.$url+\"regulationsTrype/delregulationsTrype\",{params:{regulationsTypeId:t.regulationsTypeId}}).then((function(e){\"2001\"==e.data.code?(a.$message({message:\"删除成功\",type:\"success\"}),a.getData()):a.$message.error(\"删除失败\")}))},getData:function(){var e=this;this.$http.post(this.$url+\"regulationsTrype/regulationsTrypeList\").then((function(t){\"2001\"==t.data.code?(e.loading=!1,e.tableData=t.data.data):(e.total=t.data.count,e.loading=!1,e.tableData=[])}))}}},r=s,o=(a(\"e3ca\"),a(\"2877\")),l=Object(o[\"a\"])(r,n,i,!1,null,null,null);t[\"default\"]=l.exports},bff3:function(e,t,a){},e3ca:function(e,t,a){\"use strict\";var n=a(\"bff3\"),i=a.n(n);i.a}}]);","extractedComments":[]}